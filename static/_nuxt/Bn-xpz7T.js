import{j as s}from"./CnfyS1Dw.js";class i{url;constructor(t){this.url=t}fetch(t,e){return $fetch(t,Object.assign({onResponse({response:o}){if(o.status==403)throw s().replace("/login"),new Error("not login")}},e))}async get(t={}){let e="";for(const[o,r]of Object.entries(t))e+=e?"&":"?",e+=`${o}=${encodeURIComponent(r)}`;return await this.fetch(this.url+e,{method:"GET"})}async post(t={}){return await this.fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async upload(t){return await this.fetch(this.url,{method:"POST",body:t})}async delete(t={}){let e="";for(const[o,r]of Object.entries(t))e+=e?"&":"?",e+=`${o}=${encodeURIComponent(r)}`;return await this.fetch(this.url+e,{method:"DELETE"})}}export{i as A};
